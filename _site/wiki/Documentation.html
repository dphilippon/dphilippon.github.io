
    <!doctype html><html lang="en"><head><meta charset="utf-8"><title>Table of contents</title></head>
    <body>
    <link rel="stylesheet" href="/style.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="//connect.facebook.net/en_US/all.js"></script>
<script src="/linkify.min.js"></script>
<script src="/linkify-jquery.min.js"></script>
<script>
  $(document).ready(function(){
	  		$.getJSON('https://graph.facebook.com/238065426321929/feed?access_token=229040647557399|MQKFlFYX7YW25XGj4GUYZ7B1lcY', function(data) {
		var ahtml="";
		for(var i = 0; i < 5; i++) {
			ahtml=ahtml+"<li>"+data["data"][i]["message"]+"</li>";
		}
		ahtml=ahtml+"";
		$("#fbquotes").html(ahtml);
		$("#fbquotes").linkify();
	});
	 
		$.getJSON('https://api.github.com/repos/gama-platform/gama/commits', function(data) {
			var ahtml="";
			for(var i = 0; i < 5; i++) {
				ahtml=ahtml+"<li>"+data[i]["commit"]["message"]+" by "+data[i]["commit"]["author"]["name"]+" <a href='"+data[i]["html_url"]+"'> See more</a></li>";
			}
			ahtml=ahtml+"";
			$("#commitquotes").html(ahtml);
			$("#commitquotes").linkify();
		});
				
				
		$.getJSON('https://api.github.com/repos/gama-platform/gama/issues', function(data) {
			var ahtml="";
			for(var i = 0; i < 5; i++) {
				ahtml=ahtml+"<li>"+data[i]["title"]+" by "+data[i]["user"]["login"]+" <a href='"+data[i]["html_url"]+"'> See more</a></li>";
			}
			ahtml=ahtml+"";
			$("#issuequotes").html(ahtml);
			$("#issuequotes").linkify();
		});
		
		$.getJSON('https://api.rss2json.com/v1/api.json?rss_url=https%3A%2F%2Fgroups.google.com%2Fforum%2Ffeed%2Fgama-platform%2Ftopics%2Frss.xml%3Fnum%3D15', function(data) {
			var ahtml="";
			for(var i = 0; i < 5; i++) {
				ahtml=ahtml+"<li>"+data["items"][i]["title"]+" by "+data["items"][i]["author"]+" <a href='"+data["items"][i]["link"]+"'> See more</a></li>";
			}
			ahtml=ahtml+"";
			$("#googleusersquotes").html(ahtml);
			$("#googleusersquotes").linkify();
			
		});
 });
  
</script>

      <div id="left">

		<ul class="mcd-menu"><li><a href="/">Home</a></li><li><a href="/">Discussions</a></li>
<li><a href='/wiki/Tutorials'>Tutorials
</a></li>
<ul class='sub'>
<li><a href='/wiki/LearnGAMLStepByStep'>Learn GAML Step by Step
</a></li>
<ul class='sub'>
<li><a href='/wiki/Introduction'>Introduction
</a></li>
<li><a href='/wiki/StartWithGAML'>Start with GAML
</a></li>
<ul class='sub'>
<li><a href='/wiki/ModelOrganization'>Organization of a model
</a></li>
<li><a href='/wiki/BasicProgrammingConceptsInGAML'>Basic programming concepts in GAML
</a></li>
</ul>
<li><a href='/wiki/ManipulateBasicSpecies'>Manipulate basic species
</a></li>
<ul class='sub'>
<li><a href='/wiki/GlobalSpecies'>The global species
</a></li>
<li><a href='/wiki/RegularSpecies'>Regular species
</a></li>
<li><a href='/wiki/DefiningActionsAndBehaviors'>Defining actions and behaviors
</a></li>
<li><a href='/wiki/InteractionBetweenAgents'>Interaction between agents
</a></li>
<li><a href='/wiki/AttachingSkills'>Attaching Skills
</a></li>
<li><a href='/wiki/Inheritance'>Inheritance
</a></li>
</ul>
<li><a href='/wiki/DefiningAdvancedSpecies'>Defining advanced species
</a></li>
<ul class='sub'>
<li><a href='/wiki/GridSpecies'>Grid Species
</a></li>
<li><a href='/wiki/GraphSpecies'>Graph Species
</a></li>
<li><a href='/wiki/MirrorSpecies'>Mirror species
</a></li>
<li><a href='/wiki/MultiLevelArchitecture'>Multi-level architecture
</a></li>
</ul>
<li><a href='/wiki/DefiningGUIExperiment'>Defining GUI Experiment
</a></li>
<ul class='sub'>
<li><a href='/wiki/DefiningParameters'>Defining Parameters
</a></li>
<li><a href='/wiki/DefiningDisplaysGeneralities'>Defining displays (Generalities)
</a></li>
<li><a href='/wiki/DefiningCharts'>Defining Charts
</a></li>
<li><a href='/wiki/Defining3DDisplays'>Defining 3D Displays
</a></li>
<li><a href='/wiki/DefiningMonitorsAndInspectors'>Defining monitors and inspectors
</a></li>
<li><a href='/wiki/DefiningExportFiles'>Defining export files
</a></li>
<li><a href='/wiki/DefiningUserInteraction'>Defining user interaction
</a></li>
</ul>
<li><a href='/wiki/ExploringModels'>Exploring Models
</a></li>
<ul class='sub'>
<li><a href='/wiki/RunSeveralSimulations'>Run Several Simulations
</a></li>
<li><a href='/wiki/BatchExperiments'>Defining Batch Experiments
</a></li>
<li><a href='/wiki/ExplorationMethods'>Exploration Methods
</a></li>
</ul>
<li><a href='/wiki/OptimizingModels'>Optimizing Models
</a></li>
<ul class='sub'>
<li><a href='/wiki/RuntimeConcepts'>Runtime Concepts
</a></li>
<li><a href='/wiki/OptimizingModels'>Optimizing Models
</a></li>
</ul>
<li><a href='/wiki/MultiParadigmModeling'>Multi-Paradigm Modeling
</a></li>
<ul class='sub'>
<li><a href='/wiki/ControlArchitecture'>Control Architectures
</a></li>
<li><a href='/wiki/Equations'>Using Equations
</a></li>
</ul>
</ul>
<li><a href='/wiki/Recipes'>Recipes
</a></li>
<ul class='sub'>
<li><a href='/wiki/ManipulateOSMDatas'>Manipulate OSM Datas
</a></li>
<li><a href='/wiki/Diffusion'>Implementing diffusion
</a></li>
<li><a href='/wiki/UsingDatabase'>Using Database Access
</a></li>
<li><a href='/wiki/CallingR'>Calling R
</a></li>
<li><a href='/wiki/UsingFIPAACL'>Using FIPA ACL
</a></li>
<li><a href='/wiki/GamAnalyzer'>Using GAMAnalyzer
</a></li>
<li><a href='/wiki/UsingBDI'>Using BDI
</a></li>
<li><a href='/wiki/UsingDrivingSkill'>Advanced Driving Skill
</a></li>
<li><a href='/wiki/ManipulateDates'>Manipulate Dates
</a></li>
<li><a href='/wiki/ManipulateLight'>Implementing light
</a></li>
<li><a href='/wiki/Comodel'>Using Comodel
</a></li>
</ul>
<li><a href='/wiki/Tutorials'>Tutorials
</a></li>
<ul class='sub'>
<li><a href='/wiki/LuneraysFlu'>Luneray's flu
</a></li>
<ul class='sub'>
<li><a href='/wiki/LuneraysFlu_step1'>1. Creation of a first basic disease spreading model
</a></li>
<li><a href='/wiki/LuneraysFlu_step2'>2. Definition of monitors and chart outputs
</a></li>
<li><a href='/wiki/LuneraysFlu_step3'>3. Importation of GIS data
</a></li>
<li><a href='/wiki/LuneraysFlu_step4'>4. Use of a graph to constraint the movements of people]
</a></li>
<li><a href='/wiki/LuneraysFlu_step5'>5. Definition of 3D displays
</a></li>
</ul>
<li><a href='/wiki/IncrementalModel'>Incremental Model
</a></li>
<ul class='sub'>
<li><a href='/wiki/IncrementalModel_step1'>1. Simple SI Model
</a></li>
<li><a href='/wiki/IncrementalModel_step2'>2. Charts
</a></li>
<li><a href='/wiki/IncrementalModel_step3'>3. Integration of GIS Data
</a></li>
<li><a href='/wiki/IncrementalModel_step4'>4. Movement on Graph
</a></li>
<li><a href='/wiki/IncrementalModel_step5'>5. Visualizing in 3D
</a></li>
<li><a href='/wiki/IncrementalModel_step6'>6. Multi-Level
</a></li>
<li><a href='/wiki/IncrementalModel_step7'>7. Differential Equations
</a></li>
</ul>
<li><a href='/wiki/PredatorPrey'>Predator Prey
</a></li>
<ul class='sub'>
<li><a href='/wiki/PredatorPrey_step1'>1. Basic Model
</a></li>
<li><a href='/wiki/PredatorPrey_step2'>2. Vegetation Dynamic
</a></li>
<li><a href='/wiki/PredatorPrey_step3'>3. Prey Agent Behavior
</a></li>
<li><a href='/wiki/PredatorPrey_step4'>4. Inspectors and Monitors
</a></li>
<li><a href='/wiki/PredatorPrey_step5'>5. Predator Agent
</a></li>
<li><a href='/wiki/PredatorPrey_step6'>6. Breeding
</a></li>
<li><a href='/wiki/PredatorPrey_step7'>7. Agent Aspect
</a></li>
<li><a href='/wiki/PredatorPrey_step8'>8. Complex Behavior
</a></li>
<li><a href='/wiki/PredatorPrey_step9'>9. Stopping condition
</a></li>
<li><a href='/wiki/PredatorPrey_step10'>10. Charts
</a></li>
<li><a href='/wiki/PredatorPrey_step11'>11. Writing Files
</a></li>
<li><a href='/wiki/PredatorPrey_step12'>12. Image loading
</a></li>
</ul>
<li><a href='/wiki/RoadTrafficModel'>Road Traffic
</a></li>
<ul class='sub'>
<li><a href='/wiki/RoadTrafficModel_step1'>1. Loading of GIS Data
</a></li>
<li><a href='/wiki/RoadTrafficModel_step2'>2. People Agents
</a></li>
<li><a href='/wiki/RoadTrafficModel_step3'>3. Movement of People
</a></li>
<li><a href='/wiki/RoadTrafficModel_step4'>4. Weight for Road Network
</a></li>
<li><a href='/wiki/RoadTrafficModel_step5'>5. Dynamic weights
</a></li>
<li><a href='/wiki/RoadTrafficModel_step6'>6. Charts
</a></li>
<li><a href='/wiki/RoadTrafficModel_step7'>7. Automatic Road Repair
</a></li>
</ul>
<li><a href='/wiki/ThreeD'>3D Tutorial
</a></li>
<ul class='sub'>
<li><a href='/wiki/ThreeD_step1'>1. Basic Model
</a></li>
<li><a href='/wiki/ThreeD_step2'>2. Moving Cells
</a></li>
<li><a href='/wiki/ThreeD_step3'>3. Connections
</a></li>
</ul>
</ul>
</ul>
<li><a href='/wiki/References'>References
</a></li>
<ul class='sub'>
<li><a href='/wiki/PlatformDocumentation'>Platform
</a></li>
<ul class='sub'>
<li><a href='/wiki/InstallationAndLaunching'>Installation and Launching
</a></li>
<ul class='sub'>
<li><a href='/wiki/Installation'>Installation
</a></li>
<li><a href='/wiki/Launching'>Launching GAMA
</a></li>
<li><a href='/wiki/Headless'>Headless Mode
</a></li>
<li><a href='/wiki/Updating'>Updating GAMA
</a></li>
<li><a href='/wiki/InstallingPlugins'>Installing Plugins
</a></li>
<li><a href='/wiki/Troubleshooting'>Troubleshooting
</a></li>
</ul>
<li><a href='/wiki/WorkspaceProjectsAndModels'>Workspace, Projects and Models
</a></li>
<ul class='sub'>
<li><a href='/wiki/NavigatingWorkspace'>Navigating in the Workspace
</a></li>
<li><a href='/wiki/ChangingWorkspace'>Changing Workspace
</a></li>
<li><a href='/wiki/ImportingModels'>Importing Models
</a></li>
</ul>
<li><a href='/wiki/EditingModels'>Editing models
</a></li>
<ul class='sub'>
<li><a href='/wiki/GamlEditorGeneralities'>The GAML Editor - Generalities
</a></li>
<li><a href='/wiki/GamlEditorToolbar'>The GAML Editor Toolbar
</a></li>
<li><a href='/wiki/ValidationOfModels'>Validation of Models
</a></li>
</ul>
<li><a href='/wiki/RunningExperiments'>Running Experiments
</a></li>
<ul class='sub'>
<li><a href='/wiki/LaunchingExperiments'>Launching Experiments from the User Interface
</a></li>
<li><a href='/wiki/ExperimentsUserInterface'>Experiments User Interface
</a></li>
<li><a href='/wiki/MenusAndCommands'>Menus and Commands
</a></li>
<li><a href='/wiki/ParametersView'>Parameters View
</a></li>
<li><a href='/wiki/InspectorsAndMonitors'>Inspectors and monitors
</a></li>
<li><a href='/wiki/Displays'>Displays
</a></li>
<li><a href='/wiki/BatchSpecific'>Batch Specific UI
</a></li>
<li><a href='/wiki/ErrorsView'>Errors View
</a></li>
</ul>
<li><a href='/wiki/Preferences'>Preferences
</a></li>
</ul>
<li><a href='/wiki/GamlReferences'>Gaml Reference
</a></li>
<ul class='sub'>
<li><a href='/wiki/BuiltInSpecies'>Built-in Species
</a></li>
<ul class='sub'>
<li><a href='/wiki/AgentBuiltIn'>The 'agent' built-in species (Under Construction)
</a></li>
<li><a href='/wiki/ModelBuiltIn'>The 'model' built-in species (Under Construction)
</a></li>
<li><a href='/wiki/ExperimentBuiltIn'>The 'experiment' built-in species (Under Construction)
</a></li>
</ul>
<li><a href='/wiki/BuiltInSkills'>Built-in Skills
</a></li>
<li><a href='/wiki/BuiltInArchitectures'>Built-in Architectures
</a></li>
<li><a href='/wiki/Statements'>Statements
</a></li>
<li><a href='/wiki/DataTypes'>Types
</a></li>
<li><a href='/wiki/FileTypes'>File Types
</a></li>
<li><a href='/wiki/Expressions'>Expressions
</a></li>
<ul class='sub'>
<li><a href='/wiki/Literals'>Literals
</a></li>
<li><a href='/wiki/UnitsAndConstants'>Units and constants
</a></li>
<li><a href='/wiki/PseudoVariables'>Pseudo-variables
</a></li>
<li><a href='/wiki/VariablesAndAttributes'>Variables and Attributes
</a></li>
<li><a href='/wiki/Operators'>Operators 
</a></li>
</ul>
</ul>
</ul>
<li>Community
</li>
<ul class='sub'>
<li><a href='/wiki/Contribute'>Contribute
</a></li>
<li><a href='/wiki/Projects'>Projects
</a></li>
<li><a href='/wiki/TrainingSession'>Training Session
</a></li>
</ul></ul></div><div id="right">
<h3>Facebook Activities</h3>
<ul id="fbquotes">
</ul>
<h3>Commit Activities</h3>
<ul id="commitquotes">
</ul>
<h3>Issue Activities</h3>
<ul id="issuequotes">
</ul>
<h3>Gama Platform Users Activities</h3>
<ul id="googleusersquotes">
</ul>
</div><div id="content"><h2 id="table-of-contents">Table of contents</h2>

<ul>
  <li><a href="#requirements">Requirements</a>
    <ul>
      <li><a href="#configuration">Configuration</a></li>
      <li><a href="#generated-files-location">Generated files location</a></li>
    </ul>
  </li>
  <li><a href="#workflow-to-generate-wiki-files">Workflow to generate wiki files</a></li>
  <li><a href="#workflow-to-generate-pdf-files">Workflow to generate PDF files</a></li>
  <li><a href="#workflow-to-generate-unit-tests">Workflow to generate unit tests</a></li>
  <li><a href="#main-internal-steps">Main internal steps</a>
    <ul>
      <li><a href="#generate-wiki-files">Generate wiki files</a></li>
      <li><a href="#generate-pdf-files">Generate pdf files</a></li>
      <li><a href="#generate-unit-test-files">Generate unit test files</a></li>
    </ul>
  </li>
  <li><a href="#how-to-document">How to document</a>
    <ul>
      <li><a href="#the-doc-annotation">The @doc annotation</a></li>
      <li><a href="#the-example-annotation">the @example annotation</a></li>
      <li><a href="#how-to-document-operators">How to document operators</a></li>
      <li><a href="#how-to-document-statements">How to document statements</a></li>
      <li><a href="#how-to-document-skills">How to document skills</a></li>
    </ul>
  </li>
  <li><a href="#how-to-change-the-processor">How to change the processor</a></li>
  <li><a href="#general-workflow-of-file-generation">General workflow of file generation</a></li>
</ul>

<h1 id="documentation">Documentation</h1>

<p>The GAMA documentation comes in 2 formats: a set of wiki files availaible from the wiki section of the GitHub website and a PDF file. The PDF file is produced from the wiki files.</p>

<p>In the wiki files, some are hand-written by the GAMA community and some others are generated automatically from the Java code and the associated java annotations.</p>

<p>The section summarizes:</p>
<ul>
  <li>how to generate this wiki files,</li>
  <li>how to generate the PDF documentation,</li>
  <li>how to generate the unit tests from the java annotations,</li>
  <li>how to add documentation in the java code.</li>
</ul>

<h2 id="requirements">Requirements</h2>

<p>To generate automatically the documentation, the GAMA Git version is required. See <a href="InstallingGitVersion">Install Git version</a> for more details.</p>

<p>Among all the GAMA plugins, the following ones are related to documentation generation:</p>
<ul>
  <li><code class="highlighter-rouge">msi.gama.processor</code>: the java preprocessor is called during java compilation of the various plugins and extract information from the java code and the java annotations. For each plugin it produces the <code class="highlighter-rouge">docGAMA.xml</code> file in the <code class="highlighter-rouge">gaml</code> directory.</li>
  <li><code class="highlighter-rouge">msi.gama.documentation</code>: it contains all the java classes needed to gather all the <code class="highlighter-rouge">docGAMA.xml</code> files and generate wiki, pdf or unit test files.</li>
</ul>

<p>In addition, the folder containing the wiki files is required. In the GitHub architecture, the wiki documentation is stored in a separate Git repository <code class="highlighter-rouge">https://github.com/gama-platform/gama.wiki.git</code>. A local clone of this repository should thus be created:</p>
<ol>
  <li>Open the Git perspective:
    <ul>
      <li>Windows &gt; Open Perspective &gt; Other…</li>
      <li>Choose <code class="highlighter-rouge">Git</code></li>
    </ul>
  </li>
  <li>Click on “Clone a Git repository”
    <ul>
      <li>In <strong>Source Git repository</strong> window:</li>
    </ul>
    <ul>
      <li>Fill in the URI label with: <code class="highlighter-rouge">https://github.com/gama-platform/gama.wiki.git</code></li>
      <li>Other fields will be automatically filled in.
      * In <strong>Branch Selection</strong> windows,</li>
      <li>check the master branch</li>
      <li>Next
      * In <strong>Local Destination</strong> windows,</li>
      <li>Choose the directory in which the gama Git repository has been cloned</li>
      <li>Everything else should be unchecked</li>
      <li>Finish</li>
    </ul>
  </li>
  <li>In the <strong>Git perspective</strong> and the <strong>Git Repositories</strong> view, Right-Click on “Working Directory” inside the <code class="highlighter-rouge">gama.wiki</code> repository, and choose “Import projects”
    <ul>
      <li>In the <strong>Select a wizard to use for importing projects</strong> window:</li>
    </ul>
    <ul>
      <li>“Import existing projects” should be checked</li>
      <li>“Working Directory” should be selected
      * In <strong>Import Projects</strong> window:</li>
      <li><strong>Uncheck « Search for nested project »</strong></li>
      <li>Check the project <code class="highlighter-rouge">gama.wiki</code></li>
      <li>Finish</li>
    </ul>
  </li>
  <li>Go back to the Java perspective: a <code class="highlighter-rouge">gama.wiki</code> plugin should have been added.</li>
</ol>

<p>In order to generate the PDF file from the wiki files, we use an external application named <a href="http://pandoc.org/">Pandoc</a>.
Follow the <a href="http://pandoc.org/installing.html">Pandoc installation instructions to install it</a>. Specify the path to the pandoc folder in the file “Constants.java”, in the static constant <code class="highlighter-rouge">CMD_PANDOC</code> : “<em>yourAbsolutePathToPandoc/pandoc</em>”.</p>

<p>Note that Latex should be installed in order to be able to generate PDF files. Make sure you have already installed <a href="http://miktex.org/download">Miktex</a> (for OS Windows and Mac). Specify the path to the miktex folder in the file “Constants.java”, in the static constant <code class="highlighter-rouge">CMD_PDFLATEX</code> : “<em>yourAbsolutePathToMiktex/pdflatex</em>”.</p>

<h3 id="configuration">Configuration</h3>

<p>The location where the files are generated (and other constants used by the generator) are defined in the file <code class="highlighter-rouge">msi.gama.documentation/src/msi/gama/doc/util/Constants.java</code>.</p>

<p>The use of Pandoc (path to the application and so on) is defined in the file <code class="highlighter-rouge">msi.gama.documentation/src/msi/gama/doc/util/ConvertToPDF.java</code>. <em>This should be changed in the future…</em></p>

<h3 id="generated-files-location">Generated files location</h3>
<p>The generated files are (by default) generated in various locations depending on their type:</p>
<ul>
  <li>wiki files: they are generated in the plugin <code class="highlighter-rouge">gama.wiki</code>.</li>
  <li>pdf file: they are generated in the plugin <code class="highlighter-rouge">msi.gama.documentation</code>, in the folder <code class="highlighter-rouge">files/gen/pdf</code>.</li>
  <li>unit test files: they are generated in the plugin <code class="highlighter-rouge">msi.gama.models</code>, in the folder <code class="highlighter-rouge">models/Tests</code>.</li>
</ul>

<h2 id="workflow-to-generate-wiki-files">Workflow to generate wiki files</h2>

<p>The typical workflow to generate the wiki files is as follow:</p>
<ul>
  <li>Clean and Build all the GAMA projects,</li>
  <li>Run the <code class="highlighter-rouge">MainGenerateWiki.java</code> file in the <code class="highlighter-rouge">msi.gama.documentation</code>,</li>
  <li>The wiki files are generated in the <code class="highlighter-rouge">gama.wiki</code> plugin.</li>
</ul>

<h2 id="workflow-to-generate-pdf-files">Workflow to generate PDF files</h2>

<p>The typical workflow to generate the wiki files is as follow:</p>
<ul>
  <li>Clean and Build all the GAMA projects,</li>
  <li>In the file mytemplate.tex, specify the absolute path to your “gama_style.tex” (it should be just next to this file)</li>
  <li>Run the <code class="highlighter-rouge">MainGeneratePDF.java</code> file in the <code class="highlighter-rouge">msi.gama.documentation</code>, accepting all the packages install of latex,</li>
  <li>The wiki files are generated in the <code class="highlighter-rouge">msi.gama.documentation</code> plugin.</li>
</ul>

<p>Note that generating the PDF takes a lot of time. Please be patient !</p>

<p>If you want to update the file “gama_style.sty” (for syntax coloration), you have to turn the flag “generateGamaStyle” to “true” (and make sure the file “keywords.xml” is already generated).</p>

<h2 id="workflow-to-generate-unit-tests">Workflow to generate unit tests</h2>

<p>The typical workflow to generate the wiki files is as follow:</p>
<ul>
  <li>Clean and Build all the GAMA projects,</li>
  <li>Run the <code class="highlighter-rouge">MainGenerateUnitTest.java</code> file in the <code class="highlighter-rouge">msi.gama.documentation</code>,</li>
  <li>The wiki files are generated in the <code class="highlighter-rouge">msi.gama.models</code> plugin.</li>
</ul>

<h2 id="main-internal-steps">Main internal steps</h2>

<ul>
  <li>Clean and Build all the GAMA projects will create a <code class="highlighter-rouge">docGAMA.xml</code> file in the <code class="highlighter-rouge">gaml</code> directory of each plugin,</li>
  <li>The <code class="highlighter-rouge">MainGenerateXXX.java</code> files then perform the following preparatory tasks:
    <ul>
      <li>they <em>prepare the gen folder</em> by deleting the existing folders and create all the folders that may contain intermediary generated folders</li>
      <li>they merge all the <code class="highlighter-rouge">docGAMA.xml</code> files in a <code class="highlighter-rouge">docGAMAglobal.xml</code> file, created in the <code class="highlighter-rouge">files/gen/java2xml</code> folder. <strong>Only the plugins that are referred in the product files are merged.</strong></li>
    </ul>
  </li>
</ul>

<p>After these common main first steps, each generator (wiki, pdf or unit test) performs specific tasks.</p>

<h3 id="generate-wiki-files">Generate wiki files</h3>

<ul>
  <li>The <code class="highlighter-rouge">docGamaglobal.xml</code> is parsed in order to generate 1 wiki file per kind of keyword:
    <ul>
      <li>operators,</li>
      <li>statements,</li>
      <li>skills,</li>
      <li>architectures,</li>
      <li>built-in species,</li>
      <li>constants and units.</li>
      <li>in addition an index wiki file containing all the GAML keywords is generated.</li>
    </ul>
  </li>
  <li>One wiki file is generated for each <em>extension</em> plugin, i.e. plugin existing in the Eclipse workspace but not refered in the product.</li>
</ul>

<h3 id="generate-pdf-files">Generate pdf files</h3>

<p>The pdf generator uses the table of content (toc) file located in the <code class="highlighter-rouge">files/input/toc</code> folder (<code class="highlighter-rouge">msi.gama.documetation</code> plugin) to organize the wiki files in a pdf file.</p>

<ul>
  <li><code class="highlighter-rouge">MainGeneratePDF.java</code> file parsers the toc file and create the associated PDF file using the wiki files associated to each element of the toc. The generation is tuned using files located in the <code class="highlighter-rouge">files/input/pandocPDF</code> folder.</li>
</ul>

<h3 id="generate-unit-test-files">Generate unit test files</h3>

<ul>
  <li><code class="highlighter-rouge">MainGenerateUnitTest.java</code> creates GAMA model files for each kind of keyword from the <code class="highlighter-rouge">docGAMAglobal.xml</code> file.</li>
</ul>

<h2 id="how-to-document">How to document</h2>

<p>The documentation is generate from the Java code thanks to the Java additional processor, using mainly information from Java classes or methods and from the Java annotations. (see <a href="DevelopingIndexAnnotations">the list of all annotations</a> for more details about annotations).</p>

<h3 id="the-doc-annotation">The <code class="highlighter-rouge">@doc</code> annotation</h3>

<p>Most of the annotations can contain a <a href="DevelopingIndexAnnotations#doc"><code class="highlighter-rouge">@doc</code></a> annotation, that can contain the main part of the documentation.</p>

<p>For example, the <code class="highlighter-rouge">inter</code> (<a href="Operators#inter">inter</a>) operator is commented using:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>@doc(
  value = "the intersection of the two operands",
  comment = "both containers are transformed into sets (so without duplicated element, cf. remove_deplicates operator) before the set intersection is computed.",
  usages = {
    @usage(value = "if an operand is a graph, it will be transformed into the set of its nodes"),
    @usage(value = "if an operand is a map, it will be transformed into the set of its values", examples = {
      @example(value = "[1::2, 3::4, 5::6] inter [2,4]", equals = "[2,4]"),
      @example(value = "[1::2, 3::4, 5::6] inter [1,3]", equals = "[]") }),
    @usage(value = "if an operand is a matrix, it will be transformed into the set of the lines", examples =
      @example(value = "matrix([[1,2,3],[4,5,4]]) inter [3,4]", equals = "[3,4]")) },
  examples = { 
    @example(value = "[1,2,3,4,5,6] inter [2,4]", equals = "[2,4]"),
    @example(value = "[1,2,3,4,5,6] inter [0,8]", equals = "[]") },
  see = { "remove_duplicates" })
</code></pre>
</div>
<p>This <code class="highlighter-rouge">@doc</code>annotation contains 5 parts:</p>
<ul>
  <li>value: describes the documented element,</li>
  <li>comment: a general comment about the documented element,</li>
  <li>usages: a set of ways to use the documented element, each of them being in a <code class="highlighter-rouge">@usage</code> annotation. The usage contains mainly a description and and set of examples,</li>
  <li>examples: a set of examples that are not related to a particular usage,</li>
  <li>see: other related keywords.</li>
</ul>

<h3 id="the-example-annotation">the <code class="highlighter-rouge">@example</code> annotation</h3>

<p>This annotation contains a particular use example of the documented element. It is also used to generate unit test and patterns.</p>

<p>The simplest way to use it:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>@example(value = "[1::2, 3::4, 5::6] inter [2,4]", equals = "[2,4]")
</code></pre>
</div>

<p>In this example:</p>
<ul>
  <li><code class="highlighter-rouge">value</code> contains an example of use of the operator,</li>
  <li><code class="highlighter-rouge">equals</code> contains the expected results of expression in value.</li>
</ul>

<p>This will become in the documentation:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>list var3 &lt;- [1::2, 3::4, 5::6] inter [2,4];    // var3 equals [2,4]
</code></pre>
</div>
<p>When no variable is given in the annotation, an automatic name is generated. The type of the variable is determined thanks to the return type of the operator with these parameters.</p>

<p>This example can also generate a unit test model. In this case, the value in the variable will be compared to the <code class="highlighter-rouge">equals</code> part.</p>

<p>By default, the <code class="highlighter-rouge">@example</code> annotation has the following default values:</p>
<ul>
  <li><code class="highlighter-rouge">isTestOnly</code> = <code class="highlighter-rouge">false</code>, meaning that the example will be added to the documentation too,</li>
  <li><code class="highlighter-rouge">isExecutable</code> = <code class="highlighter-rouge">true</code>, meaning that content of <code class="highlighter-rouge">value</code> can be added in a model and can be compiled (it can be useful to switch it to false, in a documentation example containing name of species that have not been defined),</li>
  <li><code class="highlighter-rouge">test</code> = <code class="highlighter-rouge">true</code>, meaning that the content of value will be tested to the content of equals,</li>
  <li><code class="highlighter-rouge">isPattern</code> = <code class="highlighter-rouge">false</code>.</li>
</ul>

<h3 id="how-to-document-operators">How to document operators</h3>

<p>A GAML operator is defined by a Java method annoted by the <code class="highlighter-rouge">@operator</code> annotation (see <a href="DevelopingIndexAnnotations">the list of all annotations</a> for more details about annotations). In the core of GAMA, most of the operators are defined in the plugin <code class="highlighter-rouge">msi.gama.core</code> and in the package <code class="highlighter-rouge">msi.gaml.operators</code>.</p>

<p>The documentation generator will use information from:</p>
<ul>
  <li>the <code class="highlighter-rouge">@operator</code> annotation:
    <ul>
      <li><code class="highlighter-rouge">value</code>: it provides the name(s) of the operator (if an operator has several names, the other names will be considered as alternative names)</li>
      <li><code class="highlighter-rouge">category</code>: it is used to classified the operators in categories</li>
    </ul>
  </li>
  <li>the <code class="highlighter-rouge">@doc</code> annotation,</li>
  <li>the method definition:
    <ul>
      <li>the return value type</li>
      <li>parameters and their type (if the method is static, the IScope attribute is not taken into account)</li>
    </ul>
  </li>
</ul>

<h3 id="how-to-document-statements">How to document statements</h3>

<p>A GAML statement is defined by a Java class annoted by the <code class="highlighter-rouge">@symbol</code> annotation (see <a href="DevelopingIndexAnnotations">the list of all annotations</a> for more details about annotations). In the core of GAMA, most of the statements are defined in the plugin <code class="highlighter-rouge">msi.gama.core</code> and in the package <code class="highlighter-rouge">msi.gaml.statements</code>.</p>

<p>The documentation generator will use information from:</p>
<ul>
  <li><code class="highlighter-rouge">@symbol</code> annotation,</li>
  <li><code class="highlighter-rouge">@facets</code> annotation (each facet can contain a documentation in a <code class="highlighter-rouge">@doc</code> annotation),</li>
  <li><code class="highlighter-rouge">@inside</code> annotation (where the statement can be used),</li>
  <li><code class="highlighter-rouge">@doc</code> annotation</li>
</ul>

<h3 id="how-to-document-skills">How to document skills</h3>

<p>A GAML skill is defined by a Java class annoted by the <code class="highlighter-rouge">@skill</code> annotation (see <a href="DevelopingIndexAnnotations">the list of all annotations</a> for more details about annotations). In the core of GAMA, most of the skills are defined in the plugin <code class="highlighter-rouge">msi.gama.core</code> and in the package <code class="highlighter-rouge">msi.gaml.skills</code>.</p>

<p>The documentation generator will use information from:</p>
<ul>
  <li><code class="highlighter-rouge">@skill</code> annotation,</li>
  <li><code class="highlighter-rouge">@vars</code> annotation (each var can contain a documentation in a <code class="highlighter-rouge">@doc</code> annotation),</li>
  <li><code class="highlighter-rouge">@doc</code> annotation</li>
</ul>

<h2 id="how-to-change-the-processor">How to change the processor</h2>

<p>If you make some modifications in the plugin processor, you have to rebuild the .jar file associated to the processor to take in account the changes.
Here are the several steps you have to do :</p>
<ul>
  <li>In the “processor” plugin, open the <em>plugin.xml</em>.</li>
  <li>In exporting (from the <em>Overview</em> tab), click on <em>Export Wizard</em>.</li>
  <li>In the tab “Destination”, choose processor/plugins for the directory. In the tab “Options”, delete the field <em>Qualifier replacement</em>. Click “finish”.</li>
  <li>Right click on the folder “processor” to refresh.
–&gt; It’s ok !</li>
</ul>

<h1 id="general-workflow-of-file-generation">General workflow of file generation</h1>

<p>This following diagram explains roughly the workflow for the generation of the different files : 
<img src="resources/images/developpingExtension/generationFilesWorkflow.png" alt="resources/images/developpingExtension/generationFilesWorkflow.png" /></p>
</div></body></html>
